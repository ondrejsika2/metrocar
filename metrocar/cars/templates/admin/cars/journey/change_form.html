{% extends "admin/change_form.html" %}

{% load i18n %}

{% block extrastyle %}
<link href="{{ STATIC_URL }}css/admin.css" media="screen,projection" rel="stylesheet" type="text/css" />
{% endblock %}

{% block after_field_sets %}
{% if not add %}

<fieldset class="module aligned">
  <h2>{% trans "Pricing summary" %}</h2>
  <div class="description">{% trans "Detailed information about journey price" %}.</div>

  {% if service_journey %}
  <div class="form-row">
  	<p>{% trans "Journey is service journey and therefore has no pricing." %}</p>
  </div>
  {% else %}
  <div class="form-row">
	  <div>
	  	<label>{% trans "Price for kms driven" %}:</label>
	  	<strong>{{ pricing.km_price|floatformat:"-2" }} Kč</strong>
	  </div>
  </div>
  <div class="form-row">
	  <div>
	  	<label>{% trans "Price for time elapsed" %}:</label>
	  	<strong>{{ pricing.time_price|floatformat:"-2" }} Kč</strong>
	  </div>
  </div>
  <div class="form-row">
	  <div>
	  	<label>{% trans "Total price" %}:</label>
	  	<strong>{{ pricing.total_price|floatformat:"-2" }} Kč</strong>
	  </div>
  </div>
  <h2>{% trans "Pricing details" %}</h2>
  <table class="pricing-summary">
  	  <tr>
  	  	  <th>{% trans "From" %}</th>
  	  	  <th>{% trans "Till" %}</th>
  	  	  <th>{% trans "Price per hour" %}</th>
  	  	  <th>{% trans "Price" %}</th>
  	  </tr>
	  {% for part in pricing.journey_parts %}
	  <tr>
	  	  <td>{{ part.start|date:"H:i:s d.m.Y" }}</td>
	  	  <td>{{ part.end|date:"H:i:s d.m.Y" }}</td>
	  	  <td>{{ part.price_per_hour|floatformat:"-2" }} Kč</td>
	  	  <td>{{ part.price|floatformat:"-2" }} Kč</td>
	  </tr>
	  {% endfor %}
	  <tr>
	  	  <td colspan="3">{% trans "Price for kms driven" %}</td>
	  	  <td>{{ pricing.km_price|floatformat:"-2" }} Kč</td>
	  </tr>
	  <tr class="sum">
	  	  <td colspan="3">{% trans "Total price" %}</td>
	  	  <td><strong style="text-decoration: underline;">{{ pricing.total_price|floatformat:"-2" }} Kč</strong></td>
	  </tr>
  </table>
  {% endif %}
</fieldset>
{% endif %}

{% endblock %}
